<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="474px" preserveAspectRatio="none" style="width:2698px;height:474px;" version="1.1" viewBox="0 0 2698 474" width="2698px" zoomAndPan="magnify"><defs><filter height="300%" id="f1e9u8x86qam77" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="268" x2="268" y1="38.2969" y2="434.6875"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1207" x2="1207" y1="38.2969" y2="434.6875"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1606" x2="1606" y1="38.2969" y2="434.6875"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2613" x2="2613" y1="38.2969" y2="434.6875"/><rect fill="#FEFECE" filter="url(#f1e9u8x86qam77)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="182" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="189" y="22.9951">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#f1e9u8x86qam77)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="182" y="433.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="189" y="453.6826">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#f1e9u8x86qam77)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="1136" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="1143" y="22.9951">Digital Twin Graph</text><rect fill="#FEFECE" filter="url(#f1e9u8x86qam77)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="1136" y="433.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="1143" y="453.6826">Digital Twin Graph</text><rect fill="#FEFECE" filter="url(#f1e9u8x86qam77)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1528" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1535" y="22.9951">Digital Twin Registry</text><rect fill="#FEFECE" filter="url(#f1e9u8x86qam77)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1528" y="433.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1535" y="453.6826">Digital Twin Registry</text><rect fill="#FEFECE" filter="url(#f1e9u8x86qam77)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="2535" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="2542" y="22.9951">Digital Twin Provider</text><rect fill="#FEFECE" filter="url(#f1e9u8x86qam77)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="2535" y="433.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="2542" y="453.6826">Digital Twin Provider</text><polygon fill="#A80036" points="1195,65.4297,1205,69.4297,1195,73.4297,1199,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="268" x2="1201" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="275" y="64.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="902" x="288" y="64.3638">Invoke(instance_id: "front left seat massager", member_path: "perform_step", request_payload: request payload as JSON-LD string) - request</text><polygon fill="#A80036" points="1594,94.5625,1604,98.5625,1594,102.5625,1598,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1207" x2="1600" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1214" y="93.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="362" x="1227" y="93.4966">FindByInstanceId(id: "front left seat massager") - request</text><polygon fill="#A80036" points="1218,219.4922,1208,223.4922,1218,227.4922,1214,223.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1212" x2="1605" y1="223.4922" y2="223.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1224" y="218.4263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="1237" y="218.4263">FindByInstanceId - response</text><path d="M799,111.5625 L799,317.5625 L1198,317.5625 L1198,121.5625 L1188,111.5625 L799,111.5625 " fill="#FBFB77" filter="url(#f1e9u8x86qam77)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1188,111.5625 L1188,121.5625 L1198,121.5625 L1188,111.5625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="805" y="128.6294">list of EntityAccessInfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="809" y="143.7622"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="805" y="158.895">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="813" y="174.0278">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="821" y="189.1606">provider_id: "vehicle-core"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="362" x="821" y="204.2935">model_id : "dtmi:sdv:premium_airbag_seat_massager;1"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="821" y="219.4263">instance_id: "front left seat massager"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="821" y="234.5591">protocol: "grpc"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="821" y="249.6919">operations: ["get", "invoke"]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="821" y="264.8247">uri: Digital Twin Provider's uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="813" y="279.9575">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="805" y="295.0903">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="809" y="310.2231"/><polygon fill="#A80036" points="2601,344.4219,2611,348.4219,2601,352.4219,2605,348.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1207" x2="2607" y1="348.4219" y2="348.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1214" y="343.356">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="1369" x="1227" y="343.356">Ask(respond_uri: respond uri for Digital Twin Graph, ask_id: "5", payload: {instance_id: "front left seat massager", operation: "invoke", member_path: "perform_step", payload: the request payload as JSON-LD string})</text><polygon fill="#A80036" points="1218,373.5547,1208,377.5547,1218,381.5547,1214,377.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1212" x2="2612" y1="377.5547" y2="377.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1224" y="372.4888">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="1237" y="372.4888">Answer(ask_id: "5", payload: response payload as JSON-LD string)</text><polygon fill="#A80036" points="279,407.6875,269,411.6875,279,415.6875,275,411.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="273" x2="1206" y1="411.6875" y2="411.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="285" y="406.6216">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="298" y="406.6216">Invoke - response</text><path d="M8,390.5547 L8,415.5547 L259,415.5547 L259,400.5547 L249,390.5547 L8,390.5547 " fill="#FBFB77" filter="url(#f1e9u8x86qam77)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M249,390.5547 L249,400.5547 L259,400.5547 L249,390.5547 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="14" y="407.6216">response payload as JSON-LD string</text><!--
@startuml

autonumber

participant "Digital Twin Consumer" as CONSUMER
participant "Digital Twin Graph" as DIGITAL_TWIN_GRAPH
participant "Digital Twin Registry" as DIGITAL_TWIN_REGISTRY
participant "Digital Twin Provider" as PROVIDER

CONSUMER -> DIGITAL_TWIN_GRAPH: Invoke(instance_id: "front left seat massager", member_path: "perform_step", request_payload: request payload as JSON-LD string) - request

DIGITAL_TWIN_GRAPH -> DIGITAL_TWIN_REGISTRY: FindByInstanceId(id: "front left seat massager") - request
DIGITAL_TWIN_GRAPH <- DIGITAL_TWIN_REGISTRY: FindByInstanceId - response
note left
  list of EntityAccessInfo

  [
    {
      provider_id: "vehicle-core"      
      model_id : "dtmi:sdv:premium_airbag_seat_massager;1"
      instance_id: "front left seat massager"
      protocol: "grpc"
      operations: ["get", "invoke"]
      uri: Digital Twin Provider's uri
    }
  ]

end note

DIGITAL_TWIN_GRAPH -> PROVIDER: Ask(respond_uri: respond uri for Digital Twin Graph, ask_id: "5", payload: {instance_id: "front left seat massager", operation: "invoke", member_path: "perform_step", payload: the request payload as JSON-LD string})
DIGITAL_TWIN_GRAPH <- PROVIDER: Answer(ask_id: "5", payload: response payload as JSON-LD string)

CONSUMER <- DIGITAL_TWIN_GRAPH: Invoke - response
note left
  response payload as JSON-LD string
end note

@enduml

PlantUML version 1.2018.13(Mon Nov 26 09:11:51 PST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.22+7-post-Ubuntu-0ubuntu220.04.1
Operating System: Linux
OS Version: 5.4.0-181-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>