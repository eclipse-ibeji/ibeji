<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="929px" preserveAspectRatio="none" style="width:1632px;height:929px;background:#FEFEFE;" version="1.1" viewBox="0 0 1632 929" width="1632px" zoomAndPan="magnify"><defs><filter height="300%" id="f1cdgrhuml6h8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFEFE" filter="url(#f1cdgrhuml6h8)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="977" x="644" y="409.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="415" x2="415" y1="38.2969" y2="889.5391"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="725" x2="725" y1="38.2969" y2="889.5391"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1097" x2="1097" y1="38.2969" y2="889.5391"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1533" x2="1533" y1="38.2969" y2="889.5391"/><rect fill="#FEFECE" filter="url(#f1cdgrhuml6h8)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="329" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="336" y="22.9951">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#f1cdgrhuml6h8)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="329" y="888.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="336" y="908.5342">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#f1cdgrhuml6h8)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="654" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="661" y="22.9951">Digital Twin Graph</text><rect fill="#FEFECE" filter="url(#f1cdgrhuml6h8)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="654" y="888.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="661" y="908.5342">Digital Twin Graph</text><rect fill="#FEFECE" filter="url(#f1cdgrhuml6h8)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1019" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1026" y="22.9951">Digital Twin Registry</text><rect fill="#FEFECE" filter="url(#f1cdgrhuml6h8)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1019" y="888.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1026" y="908.5342">Digital Twin Registry</text><rect fill="#FEFECE" filter="url(#f1cdgrhuml6h8)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1455" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1462" y="22.9951">Digital Twin Provider</text><rect fill="#FEFECE" filter="url(#f1cdgrhuml6h8)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1455" y="888.5391"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1462" y="908.5342">Digital Twin Provider</text><polygon fill="#A80036" points="713,65.4297,723,69.4297,713,73.4297,717,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415" x2="719" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="422" y="64.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="435" y="64.3638">Find(model_id: "dtmi:sdv:seat;1") - request</text><polygon fill="#A80036" points="1085,94.5625,1095,98.5625,1085,102.5625,1089,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1091" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="732" y="93.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="335" x="745" y="93.4966">FindByModeld(model_id: "dtmi:sdv:seat;1") - request</text><polygon fill="#A80036" points="736,257.3242,726,261.3242,736,265.3242,732,261.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="730" x2="1096" y1="261.3242" y2="261.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="742" y="256.2583">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="755" y="256.2583">FindByModelId - response</text><path d="M494,111.5625 L494,393.5625 L716,393.5625 L716,121.5625 L706,111.5625 L494,111.5625 " fill="#FBFB77" filter="url(#f1cdgrhuml6h8)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M706,111.5625 L706,121.5625 L716,121.5625 L706,111.5625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="500" y="128.6294">list of EndpointInfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="504" y="143.7622"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="500" y="158.895">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="508" y="174.0278">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="516" y="189.1606">model_id : "dtmi:sdv:seat;1"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="516" y="204.2935">instance_id: "front left seat"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="516" y="219.4263">protocol: "grpc"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="516" y="234.5591">operations: ["get", "invoke"]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="516" y="249.6919">uri: Digital Twin Provider's uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="508" y="264.8247">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="508" y="279.9575">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="516" y="295.0903">model_id : "dtmi:sdv:seat;1"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="516" y="310.2231">instance_id: "front right seat"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="516" y="325.356">protocol: "grpc"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="516" y="340.4888">operations: ["get", "invoke"]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="516" y="355.6216">uri: Digital Twin Provider's uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="508" y="370.7544">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="500" y="385.8872">]</text><path d="M644,409.9531 L721,409.9531 L721,416.9531 L711,426.9531 L644,426.9531 L644,409.9531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="977" x="644" y="409.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="659" y="423.02">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="342" x="736" y="422.1636">[Iterate over the results from the FindByModelId call]</text><polygon fill="#A80036" points="1521,444.2188,1531,448.2188,1521,452.2188,1525,448.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="725" x2="1527" y1="448.2188" y2="448.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="732" y="443.1528">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="771" x="745" y="443.1528">Ask(respond_uri: respond uri for Digital Twin Graph, ask_id: "1", payload: {instance_id: "front left seat", operation: "get" })</text><polygon fill="#A80036" points="736,473.3516,726,477.3516,736,481.3516,732,477.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="730" x2="1532" y1="477.3516" y2="477.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="742" y="472.2856">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="755" y="472.2856">Answer(ask_id: "1", payload: instance values as JSON-LD string)</text><polygon fill="#A80036" points="426,688.5117,416,692.5117,426,696.5117,422,692.5117" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="420" x2="724" y1="692.5117" y2="692.5117"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="432" y="687.4458">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="445" y="687.4458">Find - response</text><path d="M8,497.3516 L8,870.3516 L406,870.3516 L406,507.3516 L396,497.3516 L8,497.3516 " fill="#FBFB77" filter="url(#f1cdgrhuml6h8)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M396,497.3516 L396,507.3516 L406,507.3516 L396,497.3516 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="14" y="514.4185">list of instance values as JSON-LD string</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="18" y="529.5513"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="14" y="544.6841">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="22" y="559.8169">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="361" x="30" y="574.9497">"@context": [ "dtmi:dtdl:context;3", "dtmi:sdv:context;1"]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="30" y="590.0825">"@id": "front left seat",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="30" y="605.2153">"@type": "dtmi:sdv:seat;1",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="30" y="620.3481">"seat_massager": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="38" y="635.481">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="46" y="650.6138">"@id": "front left seat massager"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="38" y="665.7466">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="30" y="680.8794">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="22" y="696.0122">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="22" y="711.145">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="361" x="30" y="726.2778">"@context": [ "dtmi:dtdl:context;3", "dtmi:sdv:context;1"]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="30" y="741.4106">"@id": "front right seat",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="30" y="756.5435">"@type": "dtmi:sdv:seat;1",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="30" y="771.6763">"seat_massager": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="38" y="786.8091">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="46" y="801.9419">"@id": "front right seat massager"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="38" y="817.0747">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="30" y="832.2075">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="22" y="847.3403">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="14" y="862.4731">]</text><!--MD5=[0710d9764e922d4c9c2a297b035f173c]
@startuml
skinparamlocked backgroundColor fefefe

autonumber

participant "Digital Twin Consumer" as CONSUMER
participant "Digital Twin Graph" as DIGITAL_TWIN_GRAPH
participant "Digital Twin Registry" as DIGITAL_TWIN_REGISTRY
participant "Digital Twin Provider" as PROVIDER

CONSUMER -> DIGITAL_TWIN_GRAPH: Find(model_id: "dtmi:sdv:seat;1") - request

DIGITAL_TWIN_GRAPH -> DIGITAL_TWIN_REGISTRY: FindByModeld(model_id: "dtmi:sdv:seat;1") - request

DIGITAL_TWIN_GRAPH <- DIGITAL_TWIN_REGISTRY: FindByModelId - response
note left
  list of EndpointInfo

  [
    {
      model_id : "dtmi:sdv:seat;1"
      instance_id: "front left seat"
      protocol: "grpc"
      operations: ["get", "invoke"]
      uri: Digital Twin Provider's uri
    },
    {
      model_id : "dtmi:sdv:seat;1"
      instance_id: "front right seat"
      protocol: "grpc"
      operations: ["get", "invoke"]
      uri: Digital Twin Provider's uri
    }
  ]
end note

loop Iterate over the results from the FindByModelId call
  DIGITAL_TWIN_GRAPH -> PROVIDER: Ask(respond_uri: respond uri for Digital Twin Graph, ask_id: "1", payload: {instance_id: "front left seat", operation: "get" })
  DIGITAL_TWIN_GRAPH <- PROVIDER: Answer(ask_id: "1", payload: instance values as JSON-LD string)
end

CONSUMER <- DIGITAL_TWIN_GRAPH: Find - response
note left
  list of instance values as JSON-LD string

  [
    {
      "@context": [ "dtmi:dtdl:context;3", "dtmi:sdv:context;1"]
      "@id": "front left seat",
      "@type": "dtmi:sdv:seat;1",
      "seat_massager": [
        {
          "@id": "front left seat massager"
        }
      ]
    },
    {
      "@context": [ "dtmi:dtdl:context;3", "dtmi:sdv:context;1"]
      "@id": "front right seat",
      "@type": "dtmi:sdv:seat;1",
      "seat_massager": [
        {
          "@id": "front right seat massager"
        }
      ]
    }
  ]
end note

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.22+7
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>