<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="449px" preserveAspectRatio="none" style="width:2240px;height:449px;" version="1.1" viewBox="0 0 2240 449" width="2240px" zoomAndPan="magnify"><defs><filter height="300%" id="fhpm86fhj8z5k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="94" x2="94" y1="38.2969" y2="409.5547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="856" x2="856" y1="38.2969" y2="409.5547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1231" x2="1231" y1="38.2969" y2="409.5547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2155" x2="2155" y1="38.2969" y2="409.5547"/><rect fill="#FEFECE" filter="url(#fhpm86fhj8z5k)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="15" y="22.9951">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#fhpm86fhj8z5k)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="8" y="408.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="15" y="428.5498">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#fhpm86fhj8z5k)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="785" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="792" y="22.9951">Digital Twin Graph</text><rect fill="#FEFECE" filter="url(#fhpm86fhj8z5k)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="785" y="408.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="792" y="428.5498">Digital Twin Graph</text><rect fill="#FEFECE" filter="url(#fhpm86fhj8z5k)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1153" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1160" y="22.9951">Digital Twin Registry</text><rect fill="#FEFECE" filter="url(#fhpm86fhj8z5k)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="1153" y="408.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="1160" y="428.5498">Digital Twin Registry</text><rect fill="#FEFECE" filter="url(#fhpm86fhj8z5k)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="2077" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="2084" y="22.9951">Digital Twin Provider</text><rect fill="#FEFECE" filter="url(#fhpm86fhj8z5k)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="2077" y="408.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="138" x="2084" y="428.5498">Digital Twin Provider</text><polygon fill="#A80036" points="844,65.4297,854,69.4297,844,73.4297,848,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="850" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101" y="64.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="725" x="114" y="64.3638">Set(instance_id: "the vehicle", member_path: "vehicle_identification/vin", value: value as JSON-LD string) - request</text><polygon fill="#A80036" points="1219,94.5625,1229,98.5625,1219,102.5625,1223,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="856" x2="1225" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="863" y="93.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="338" x="876" y="93.4966">FindByInstanceId(instance_id: "the vehicle") - request</text><polygon fill="#A80036" points="867,211.9258,857,215.9258,867,219.9258,863,215.9258" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="861" x2="1230" y1="215.9258" y2="215.9258"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="873" y="210.8599">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="886" y="210.8599">FindByInstanceId - response</text><path d="M615,111.5625 L615,302.5625 L847,302.5625 L847,121.5625 L837,111.5625 L615,111.5625 " fill="#FBFB77" filter="url(#fhpm86fhj8z5k)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M837,111.5625 L837,121.5625 L847,121.5625 L837,111.5625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="621" y="128.6294">list of EntityAccessInfo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="625" y="143.7622"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="621" y="158.895">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="629" y="174.0278">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="637" y="189.1606">provider_id: "vehicle-core"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="637" y="204.2935">model_id : "dtmi:sdv:vehicle;1"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="637" y="219.4263">instance_id: "the vehicle"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="637" y="234.5591">protocol: "grpc"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="637" y="249.6919">operations: ["get"]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="637" y="264.8247">uri: Digital Twin Provider's uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="629" y="279.9575">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="621" y="295.0903">]</text><polygon fill="#A80036" points="2143,329.2891,2153,333.2891,2143,337.2891,2147,333.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="856" x2="2149" y1="333.2891" y2="333.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="863" y="328.2231">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="1262" x="876" y="328.2231">Ask(respond_uri: respond uri for Digital Twin Graph, ask_id: "4", payload: {instance_id: "the vehicle", operation: "set", member_path: "vehicle_identification/vin", payload: the value as JSON-LD string})</text><polygon fill="#A80036" points="867,358.4219,857,362.4219,867,366.4219,863,362.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="861" x2="2154" y1="362.4219" y2="362.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="873" y="357.356">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="886" y="357.356">Answer(ask_id: "4", payload: "")</text><polygon fill="#A80036" points="105,387.5547,95,391.5547,105,395.5547,101,391.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="855" y1="391.5547" y2="391.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="111" y="386.4888">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="124" y="386.4888">Set - response</text><!--
@startuml

autonumber

participant "Digital Twin Consumer" as CONSUMER
participant "Digital Twin Graph" as DIGITAL_TWIN_GRAPH
participant "Digital Twin Registry" as DIGITAL_TWIN_REGISTRY
participant "Digital Twin Provider" as PROVIDER

CONSUMER -> DIGITAL_TWIN_GRAPH: Set(instance_id: "the vehicle", member_path: "vehicle_identification/vin", value: value as JSON-LD string) - request

DIGITAL_TWIN_GRAPH -> DIGITAL_TWIN_REGISTRY: FindByInstanceId(instance_id: "the vehicle") - request
DIGITAL_TWIN_GRAPH <- DIGITAL_TWIN_REGISTRY: FindByInstanceId - response
note left
  list of EntityAccessInfo

  [
    {
      provider_id: "vehicle-core"      
      model_id : "dtmi:sdv:vehicle;1"
      instance_id: "the vehicle"
      protocol: "grpc"
      operations: ["get"]
      uri: Digital Twin Provider's uri
    }
  ]
end note

DIGITAL_TWIN_GRAPH -> PROVIDER: Ask(respond_uri: respond uri for Digital Twin Graph, ask_id: "4", payload: {instance_id: "the vehicle", operation: "set", member_path: "vehicle_identification/vin", payload: the value as JSON-LD string})
DIGITAL_TWIN_GRAPH <- PROVIDER: Answer(ask_id: "4", payload: "")

CONSUMER <- DIGITAL_TWIN_GRAPH: Set - response

@enduml

PlantUML version 1.2018.13(Mon Nov 26 09:11:51 PST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.22+7-post-Ubuntu-0ubuntu220.04.1
Operating System: Linux
OS Version: 5.4.0-181-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>