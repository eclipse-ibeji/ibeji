<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="401px" preserveAspectRatio="none" style="width:506px;height:401px;background:#FEFEFE;" version="1.1" viewBox="0 0 506 401" width="506px" zoomAndPan="magnify"><defs><filter height="300%" id="f1o1g4xh6pms7t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="479" x="14.25" y="22.9951">Managed Subscribe Sequence from Consumer's Perspective</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="94" x2="94" y1="68.5938" y2="360.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="402.5" x2="402.5" y1="68.5938" y2="360.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="467.5" x2="467.5" y1="68.5938" y2="360.7891"/><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="8" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="15" y="53.292">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="8" y="359.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="15" y="379.7842">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="380.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="387.5" y="53.292">Ibeji</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="380.5" y="359.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="387.5" y="379.7842">Ibeji</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="435.5" y="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="442.5" y="53.292">Broker</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="435.5" y="359.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="442.5" y="379.7842">Broker</text><polygon fill="#A80036" points="391,95.7266,401,99.7266,391,103.7266,395,99.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="397" y1="99.7266" y2="99.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101" y="94.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="114" y="94.6606">FindById - request</text><polygon fill="#A80036" points="105,124.8594,95,128.8594,105,132.8594,101,128.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="402" y1="128.8594" y2="128.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="111" y="123.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="124" y="123.7935">FindById - response</text><polygon fill="#A80036" points="391,153.9922,401,157.9922,391,161.9922,395,157.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="397" y1="157.9922" y2="157.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101" y="152.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="114" y="152.9263">GetSubscriptionInfo (entity_id, constraints)</text><polygon fill="#A80036" points="105,183.125,95,187.125,105,191.125,101,187.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="402" y1="187.125" y2="187.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="111" y="182.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="124" y="182.0591">GetSubscriptionInfo - response</text><path d="M99,200.125 L99,225.125 L355,225.125 L355,210.125 L345,200.125 L99,200.125 " fill="#FBFB77" filter="url(#f1o1g4xh6pms7t)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M345,200.125 L345,210.125 L355,210.125 L345,200.125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="105" y="217.1919">SubInfo {topic, broker endpoint info}</text><polygon fill="#A80036" points="455.5,251.3906,465.5,255.3906,455.5,259.3906,459.5,255.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="461.5" y1="255.3906" y2="255.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101" y="250.3247">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="114" y="250.3247">Subscribe (SubInfo.topic)</text><polygon fill="#A80036" points="105,280.5234,95,284.5234,105,288.5234,101,284.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="466.5" y1="284.5234" y2="284.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="111" y="279.4575">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="124" y="279.4575">data</text><polygon fill="#A80036" points="455.5,309.6563,465.5,313.6563,455.5,317.6563,459.5,313.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94" x2="461.5" y1="313.6563" y2="313.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101" y="308.5903">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="114" y="308.5903">Unsubscribe (SubInfo.topic)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="100" x2="110" y1="337.7891" y2="347.7891"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="100" x2="110" y1="347.7891" y2="337.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="466.5" y1="342.7891" y2="342.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="111" y="337.7231">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="124" y="337.7231">data</text><!--
@startuml
skinparamlocked backgroundColor fefefe
title Managed Subscribe Sequence from Consumer's Perspective
participant "Digital Twin Consumer" as DTConsumer
participant Ibeji
participant Broker

autonumber

DTConsumer -> Ibeji: FindById - request
DTConsumer <- Ibeji: FindById - response
DTConsumer -> Ibeji: GetSubscriptionInfo (entity_id, constraints)
Ibeji -> DTConsumer: GetSubscriptionInfo - response
note right of DTConsumer: SubInfo {topic, broker endpoint info}
DTConsumer -> Broker: Subscribe (SubInfo.topic)
DTConsumer <- Broker : data
DTConsumer -> Broker: Unsubscribe (SubInfo.topic)
DTConsumer x<- Broker: data
@enduml

PlantUML version 1.2018.13(Mon Nov 26 09:11:51 PST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9-post-Ubuntu-0ubuntu120.04
Operating System: Linux
OS Version: 5.4.0-171-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>