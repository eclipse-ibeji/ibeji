<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="405px" preserveAspectRatio="none" style="width:552px;height:405px;background:#FEFEFE;" version="1.1" viewBox="0 0 552 405" width="552px" zoomAndPan="magnify"><defs><filter height="300%" id="f1o1g4xh6pms7t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="528" x="12" y="26.708">Managed Subscribe Sequence from Consumer's Perspective</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="116.25" x2="116.25" y1="73.25" y2="365.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="424.75" x2="424.75" y1="73.25" y2="365.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="489.75" x2="489.75" y1="73.25" y2="365.4453"/><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="30.25" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="37.25" y="57.9482">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="30.25" y="364.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="37.25" y="384.4404">Digital Twin Consumer</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="402.75" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="409.75" y="57.9482">Ibeji</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="41" x="402.75" y="364.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="27" x="409.75" y="384.4404">Ibeji</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="457.75" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="464.75" y="57.9482">Broker</text><rect fill="#FEFECE" filter="url(#f1o1g4xh6pms7t)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="457.75" y="364.4453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="464.75" y="384.4404">Broker</text><polygon fill="#A80036" points="413.25,100.3828,423.25,104.3828,413.25,108.3828,417.25,104.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116.25" x2="419.25" y1="104.3828" y2="104.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="123.25" y="99.3169">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="136.25" y="99.3169">FindById - request</text><polygon fill="#A80036" points="127.25,129.5156,117.25,133.5156,127.25,137.5156,123.25,133.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121.25" x2="424.25" y1="133.5156" y2="133.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="133.25" y="128.4497">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="146.25" y="128.4497">FindById - response</text><polygon fill="#A80036" points="413.25,158.6484,423.25,162.6484,413.25,166.6484,417.25,162.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116.25" x2="419.25" y1="162.6484" y2="162.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="123.25" y="157.5825">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="136.25" y="157.5825">GetSubscriptionInfo (entity_id, constraints)</text><polygon fill="#A80036" points="127.25,187.7813,117.25,191.7813,127.25,195.7813,123.25,191.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121.25" x2="424.25" y1="191.7813" y2="191.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="133.25" y="186.7153">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="146.25" y="186.7153">GetSubscriptionInfo - response</text><path d="M121.25,204.7813 L121.25,229.7813 L377.25,229.7813 L377.25,214.7813 L367.25,204.7813 L121.25,204.7813 " fill="#FBFB77" filter="url(#f1o1g4xh6pms7t)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M367.25,204.7813 L367.25,214.7813 L377.25,214.7813 L367.25,204.7813 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="127.25" y="221.8481">SubInfo {topic, broker endpoint info}</text><polygon fill="#A80036" points="477.75,256.0469,487.75,260.0469,477.75,264.0469,481.75,260.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116.25" x2="483.75" y1="260.0469" y2="260.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="123.25" y="254.981">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="136.25" y="254.981">Subscribe (SubInfo.topic)</text><polygon fill="#A80036" points="127.25,285.1797,117.25,289.1797,127.25,293.1797,123.25,289.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="121.25" x2="488.75" y1="289.1797" y2="289.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="133.25" y="284.1138">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="146.25" y="284.1138">data</text><polygon fill="#A80036" points="477.75,314.3125,487.75,318.3125,477.75,322.3125,481.75,318.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="116.25" x2="483.75" y1="318.3125" y2="318.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="123.25" y="313.2466">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="136.25" y="313.2466">Unsubscribe (SubInfo.topic)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="122.25" x2="132.25" y1="342.4453" y2="352.4453"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="122.25" x2="132.25" y1="352.4453" y2="342.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="128.25" x2="488.75" y1="347.4453" y2="347.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="133.25" y="342.3794">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="146.25" y="342.3794">data</text><!--MD5=[61010c2a4c4f4325b2750086a0f581bd]
@startuml
skinparamlocked backgroundColor fefefe
title Managed Subscribe Sequence from Consumer's Perspective
participant "Digital Twin Consumer" as DTConsumer
participant Ibeji
participant Broker

autonumber

DTConsumer -> Ibeji: FindById - request
DTConsumer <- Ibeji: FindById - response
DTConsumer -> Ibeji: GetSubscriptionInfo (entity_id, constraints)
Ibeji -> DTConsumer: GetSubscriptionInfo - response
note right of DTConsumer: SubInfo {topic, broker endpoint info}
DTConsumer -> Broker: Subscribe (SubInfo.topic)
DTConsumer <- Broker : data
DTConsumer -> Broker: Unsubscribe (SubInfo.topic)
DTConsumer x<- Broker: data
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.22+7
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>